<!-- ======= Counter Section (sans purecounter) ======= -->
<div class="section-counter bg-cover" style="background-image:url('assets/img/counters-bg.jpg')">
  <div class="overlay"></div>

  <div class="container position-relative" #counters (cdkObserveContent)="onCountersVisible(counters)">
    <div class="row g-3 text-center">
      <div class="col-6 col-lg-3" *ngFor="let s of stats">
        <div class="counter-box">
          <div class="counter-ico">
            <span class="ico-circle"><i class="bi bi-check" aria-hidden="true"></i></span>
          </div>
          <div class="counter-num">
            <p class="counter">{{ s.value }}</p>
            <span class="counter-text">{{ s.label }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ======= Portfolio Section ======= -->
<section id="portfolio" class="portfolio section">
  <div class="container">
    <div class="text-center mb-4">
      <h3 class="title-a">Projets</h3>
      <p class="subtitle-a">Une sélection représentative des travaux récents.</p>
    </div>

    <!-- Filtres -->
    <div class="filters">
      <button *ngFor="let cat of categories"
              class="pill"
              [class.active]="selectedCategory===cat"
              (click)="filterByCategory(cat)"
              type="button">
        {{ cat }}
      </button>
      <span class="count">{{ filteredProjects.length }} projet(s)</span>
    </div>

    <!-- Grille -->
    <div class="grid">
      <article class="card project card-sd" appReveal *ngFor="let project of filteredProjects">
  <a [routerLink]="['/projets', project.slug]" class="thumb card-zoom ratio-16x10" [attr.aria-label]="'Voir ' + project.title">
    <img class="img-cover"
         ngSrc="{{ project.image }}" width="640" height="400"
         alt="{{ project.title }}">
  </a>

  <div class="meta">
    <h4 class="title">{{ project.title }}</h4>
    <div class="sub">
      <span class="cat">{{ project.category }}</span>
      <span class="dot">·</span>
      <span class="date">{{ project.date }}</span>
    </div>
    <div class="tags" *ngIf="project.tags?.length">
      <span class="tag" *ngFor="let t of project.tags">{{ t }}</span>
    </div>
  </div>
</article>

    </div>
  </div>
</section>
